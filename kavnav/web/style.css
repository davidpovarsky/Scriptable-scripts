/* KavNav - Browser Styles */

:root { 
  --bg:#0b0f14; 
  --card:#1f2937; 
  --text:#e5e7eb; 
  --accent:#2563eb; 
  --realtime:#22c55e; 
  --stale:#f97316; 
}

body { 
  margin:0; 
  background:var(--bg); 
  color:var(--text); 
  font-family:-apple-system, sans-serif; 
  padding-bottom:20px; 
}

header { 
  display:flex; 
  align-items:center; 
  background:#111827; 
  position:sticky; 
  top:0; 
  z-index:100; 
  box-shadow:0 4px 6px -1px rgba(0,0,0,0.3); 
  height:60px; 
}

#refresh-btn { 
  flex-shrink:0; 
  width:50px; 
  height:100%; 
  background:transparent; 
  border:none; 
  display:flex; 
  align-items:center; 
  justify-content:center; 
  border-left:1px solid #374151; 
  cursor:pointer; 
}

#refresh-btn svg { 
  width:20px; 
  height:20px; 
  fill:#9ca3af; 
}

#refresh-btn:active svg { 
  fill:var(--accent); 
  transform:rotate(45deg); 
  transition:0.2s; 
}

#scroll-area { 
  flex-grow:1; 
  display:flex; 
  gap:8px; 
  overflow-x:auto; 
  padding:0 12px; 
  align-items:center; 
  height:100%; 
  scrollbar-width:none; 
}

#scroll-area::-webkit-scrollbar { 
  display:none; 
}

.station-btn { 
  background:var(--card); 
  color:#9ca3af; 
  border:none; 
  border-radius:12px; 
  padding:6px 12px; 
  min-width:60px; 
  display:flex; 
  flex-direction:column; 
  align-items:center; 
  justify-content:center; 
  flex-shrink:0; 
  transition:all 0.2s; 
}

.station-btn.active { 
  background:var(--accent); 
  color:#fff; 
  box-shadow:0 0 10px rgba(37,99,235,0.4); 
}

.btn-name { 
  font-size:13px; 
  white-space:nowrap; 
  max-width:120px; 
  overflow:hidden; 
  text-overflow:ellipsis; 
}

.btn-code { 
  font-size:10px; 
  opacity:0.8; 
}

#load-more-btn { 
  background:rgba(255,255,255,0.1); 
  color:#fff; 
  border-radius:50%; 
  width:32px; 
  height:32px; 
  display:flex; 
  align-items:center; 
  justify-content:center; 
  flex-shrink:0; 
  border:none; 
  margin-right:5px; 
}

/* שורת חיפוש */
#search-container { 
  position:fixed; 
  top:-100px; 
  left:50%; 
  transform:translateX(-50%); 
  width:90%; 
  max-width:500px; 
  z-index:200; 
  transition:top 0.3s ease; 
  padding:10px; 
  background:var(--bg); 
  border-radius:20px; 
  box-shadow:0 4px 20px rgba(0,0,0,0.5); 
}

#search-container.visible { 
  top:70px; 
}

#search-input { 
  width:100%; 
  padding:12px 20px; 
  border-radius:25px; 
  border:2px solid #374151; 
  background:var(--card); 
  color:var(--text); 
  font-size:16px; 
  outline:none; 
  transition:border 0.2s; 
}

#search-input:focus { 
  border-color:var(--accent); 
}

#search-results { 
  max-height:400px; 
  overflow-y:auto; 
  margin-top:10px; 
  background:var(--card); 
  border-radius:15px; 
  display:none; 
}

#search-results.visible { 
  display:block; 
}

.search-result-item { 
  padding:12px 16px; 
  border-bottom:1px solid #374151; 
  cursor:pointer; 
  transition:background 0.2s; 
}

.search-result-item:last-child { 
  border-bottom:none; 
}

.search-result-item:hover { 
  background:rgba(255,255,255,0.05); 
}

.search-result-name { 
  font-size:16px; 
  font-weight:600; 
  margin-bottom:4px; 
}

.search-result-code { 
  font-size:13px; 
  color:#9ca3af; 
  margin-bottom:4px; 
}

.search-result-desc { 
  font-size:12px; 
  color:#6b7280; 
}

#search-overlay { 
  position:fixed; 
  top:0; 
  left:0; 
  width:100%; 
  height:100%; 
  background:rgba(0,0,0,0.5); 
  z-index:150; 
  display:none; 
}

#search-overlay.visible { 
  display:block; 
}

.stop-container { 
  padding:16px; 
}

h2 { 
  margin:0 0 16px 0; 
  font-size:18px; 
  color:#9ca3af; 
  font-weight:normal; 
}

.line-card { 
  background:var(--card); 
  margin-bottom:12px; 
  padding:12px 16px; 
  border-radius:12px; 
  transition: transform 0.2s; 
}

.line-header { 
  display:flex; 
  justify-content:space-between; 
  align-items:baseline; 
  margin-bottom:8px; 
}

.route-num { 
  font-size:22px; 
  font-weight:800; 
  color:#fff; 
}

.headsign { 
  font-size:14px; 
  color:#9ca3af; 
  max-width:70%; 
  white-space:nowrap; 
  overflow:hidden; 
  text-overflow:ellipsis; 
}

.times-row { 
  display:flex; 
  gap:10px; 
  overflow-x:auto; 
  min-height: 34px; 
}

.time-chip { 
  background:rgba(255,255,255,0.05); 
  padding:4px 10px; 
  border-radius:8px; 
  font-size:14px; 
  display:flex; 
  align-items:center; 
  gap:4px; 
  white-space:nowrap; 
  transition: background 0.3s; 
}

.time-chip.realtime { 
  background:rgba(34,197,94,0.15); 
  color:var(--realtime); 
  border:1px solid rgba(34,197,94,0.3); 
}

.time-chip.stale { 
  background:rgba(249,115,22,0.15) !important; 
  color:var(--stale) !important; 
  border:1px solid rgba(249,115,22,0.3) !important; 
}

.pulse-dot { 
  width:6px; 
  height:6px; 
  background:currentColor; 
  border-radius:50%; 
  animation:pulse 1.5s infinite; 
}

#loader-msg { 
  height:60vh; 
  display:flex; 
  flex-direction:column; 
  align-items:center; 
  justify-content:center; 
  color:#6b7280; 
  gap:15px; 
}

.spinner { 
  width:30px; 
  height:30px; 
  border:3px solid rgba(255,255,255,0.1); 
  border-left-color:var(--accent); 
  border-radius:50%; 
  animation:spin 1s linear infinite; 
}

@keyframes spin { 
  100% { transform:rotate(360deg); } 
}

@keyframes pulse { 
  0% { opacity:0.4; } 
  50% { opacity:1; } 
  100% { opacity:0.4; } 
}

#empty-msg { 
  text-align:center; 
  opacity:0.6; 
  margin-top:20px; 
  display:none; 
}